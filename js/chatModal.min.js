$(function(){function a(a){var b=f(g(3e3,5e3));b.then((async()=>{var c=h({msg:"",typing:!0,sender:!1});b.then(()=>{c.html($("#"+a).html()),c.removeClass("ccm-typing"),$(".ccm-chat_body").scrollTop(e[0].scrollHeight)})})())}var b=$("#ccm-msgForm"),c=b.find("textarea"),d=b.find("a"),e=$("#ccm-msgs"),f=a=>new Promise(b=>setTimeout(b,a)),g=(c,a)=>Math.floor(Math.random()*(a-c+1))+c,h=b=>{var d=$("<div class=\"ccm-chat_msg_item ccm-chat_msg_item_admin ccm-msg\"></div>"),{sender:f,typing:g}=b;if("me"===f?d.addClass("ccm-from"):d.addClass("ccm-to ccm-chat_msg_item ccm-chat_msg_item_admin"),d.text(b.msg),g&&d.html("<span class=\"ccm-spinme-left\"><div class=\"ccm-spinner\"><div class=\"ccm-bounce1\"></div><div class=\"ccm-bounce2\"></div><div class=\"ccm-bounce3\"></div></div></span>"),d.appendTo(e),$(".ccm-chat_body").scrollTop(e[0].scrollHeight),c.val(""),"me"===f&&setTimeout(a("ccm-auto-reply-menu"),1e3),g)return d};c.on("keypress",function(a){if(13===a.which){a.stopPropagation(),a.preventDefault();var b={msg:c.val(),sender:"me"};return h(b)}}),d.on("click",function(a){a.stopPropagation(),a.preventDefault();var b={msg:c.val(),sender:"me"};return h(b)}),$("body").on("click",".ccm-email-intake",function(){a("ccm-auto-reply-1")}),$("body").on("click",".ccm-chat-contact-form",function(){a("ccm-chat-form-msg")}),$("body").on("click",".ccm-menu",function(){$(".ccm-fab_field").hide(),$(".ccm-chat_body").hide(),$(".ccm-chat_header").hide(),$("#ccm-contact-form-container").show()}),$("body").on("click",".ccm-new-convo",function(){$(".ccm-fab_field").show(),$(".ccm-chat_body").show(),$(".ccm-chat_header").show(),$("#ccm-contact-form-container").hide(),$("#ccm-msgs").html("")})}),hideChat(0),$("#ccm-prime").click(function(){toggleFab()}),$(".ccm-mobile-close").click(function(){toggleFab()});function toggleFab(){$(".ccm-prime").toggleClass("fa-comment-alt"),$(".ccm-prime").toggleClass("far"),$(".ccm-prime").toggleClass("fas"),$(".ccm-prime").toggleClass("fa-times"),$(".ccm-prime").toggleClass("ccm-is-active"),$(".ccm-prime").toggleClass("ccm-is-visible"),$(".ccm-chat").toggleClass("ccm-is-visible"),$(".ccm-fab").toggleClass("ccm-is-visible")}$(".ccm-next_view_angle").click(function(){hideChat(1)}),992>$(window).width()&&($(".fullscreen").toggleClass("zmdi-window-maximize"),$(".fullscreen").toggleClass("zmdi-window-restore"),$(".ccm-chat").toggleClass("ccm-chat_fullscreen"),$("#ccm-prime").toggleClass("ccm-hide-active"),$(".ccm-header_img").toggleClass("ccm-change_img"),$(".img_container").toggleClass("ccm-change_img"),$(".ccm-chat_header").toggleClass("ccm-chat_header2"),$(".ccm-fab_field").toggleClass("ccm-fab_field2"),$(".ccm-chat_converse").toggleClass("ccm-chat_converse2"),$(".ccm-mobile-close").toggle());function hideChat(a){0===a?($(".ccm-chat_converse").css("display","none"),$(".ccm-chat_login").css("display","block"),$("#ccm-chat_fullscreen").css("display","none")):1===a?($(".ccm-chat_converse").css("display","block"),$(".ccm-chat_login").css("display","none"),$(".ccm-next_view_angle").css("display","block")):void 0}